<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Simple Shuffle</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<style>
.container {
    position: relative;
    width: 520px;
    height: 120px;
}

.box {
    width: 100px;
    height: 100px;
    position: absolute;
    border: 2px solid black;
    background: lightblue;
}

h1 {
    margin: 0;
    line-height: 100px;
    text-align: center;
    color: white;
}

button {
    padding: 10px 20px;
    font-size: 16px;
}
</style>

<script>
$(document).ready(function () {

    var div1 = $("#div1");
    var div2 = $("#div2");
    var div3 = $("#div3");
    var div4 = $("#div4");

    // initial positions
    div1.css("left", "0px");
    div2.css("left", "120px");
    div3.css("left", "240px");
    div4.css("left", "360px");

    $("#startBtn").click(function () {

        var p1 = div1.position().left;
        var p2 = div2.position().left;
        var p3 = div3.position().left;
        var p4 = div4.position().left;

        div1.css("background","red")
            .animate({ left: p2, opacity: 0.5 }, 1000)
            .animate({ opacity: 1 }, 200);

        div2.css("background","orange")
            .animate({ left: p3, opacity: 0.5 }, 1000)
            .animate({ opacity: 1 }, 200);

        div3.css("background","blue")
            .animate({ left: p4, opacity: 0.5 }, 1000)
            .animate({ opacity: 1 }, 200);

        div4.css("background","green")
            .animate({ left: p1, opacity: 0.5 }, 1000)
            .animate({ opacity: 1 }, 200);
    });

});
</script>
</head>

<body>

<div class="container">
    <div class="box" id="div1"><h1>1</h1></div>
    <div class="box" id="div2"><h1>2</h1></div>
    <div class="box" id="div3"><h1>3</h1></div>
    <div class="box" id="div4"><h1>4</h1></div>
</div>

<br>
<button id="startBtn">Start Animation</button>

</body>
</html>